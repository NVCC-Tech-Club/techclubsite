{"ast":null,"code":"import _objectSpread from\"C:/Users/erden/OneDrive/Documents/GitHub/techclubsite/streamlit_calendar/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _taggedTemplateLiteral from\"C:/Users/erden/OneDrive/Documents/GitHub/techclubsite/streamlit_calendar/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import\"../styles/Calendar.css\";import adaptivePlugin from\"@fullcalendar/adaptive\";// premium\nimport dayGridPlugin from\"@fullcalendar/daygrid\";import interactionPlugin from\"@fullcalendar/interaction\";import listPlugin from\"@fullcalendar/list\";import multiMonthPlugin from\"@fullcalendar/multimonth\";import FullCalendar from\"@fullcalendar/react\";import resourceDayGridPlugin from\"@fullcalendar/resource-daygrid\";// premium\nimport resourceTimeGridPlugin from\"@fullcalendar/resource-timegrid\";// premium\nimport resourceTimelinePlugin from\"@fullcalendar/resource-timeline\";// premium\nimport timeGridPlugin from\"@fullcalendar/timegrid\";import timelinePlugin from\"@fullcalendar/timeline\";// premium\nimport rrulePlugin from\"@fullcalendar/rrule\";//\nimport React from\"react\";import{Streamlit,withStreamlitConnection}from\"streamlit-component-lib\";import styled from\"styled-components\";import{jsx as _jsx}from\"react/jsx-runtime\";var ENABLED_PLUGINS=[adaptivePlugin,dayGridPlugin,interactionPlugin,listPlugin,multiMonthPlugin,resourceDayGridPlugin,resourceTimeGridPlugin,resourceTimelinePlugin,timeGridPlugin,timelinePlugin,rrulePlugin];var FullCalendarWrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  \",\"\\n\"])),function(props){return props.$customCSS||'';});var CalendarFC=function CalendarFC(_ref){var _ref$args=_ref.args,events=_ref$args.events,options=_ref$args.options,custom_css=_ref$args.custom_css,callbacks=_ref$args.callbacks,license_key=_ref$args.license_key;var getViewValue=function getViewValue(view){return{type:view.type,title:view.title,activeStart:view.activeStart.toISOString(),activeEnd:view.activeEnd.toISOString(),currentStart:view.currentStart.toISOString(),currentEnd:view.currentEnd.toISOString()};};var handleDateClick=function handleDateClick(arg){var _arg$resource;var dateClick={allDay:arg.allDay,date:arg.date.toISOString(),view:getViewValue(arg.view),resource:(_arg$resource=arg.resource)===null||_arg$resource===void 0?void 0:_arg$resource.toJSON()};var componentValue={callback:\"dateClick\",dateClick:dateClick};Streamlit.setComponentValue(componentValue);};var handleEventClick=function handleEventClick(arg){var eventClick={event:arg.event.toJSON(),view:getViewValue(arg.view)};var componentValue={callback:\"eventClick\",eventClick:eventClick};Streamlit.setComponentValue(componentValue);};var handleEventChange=function handleEventChange(arg){var eventChange={oldEvent:arg.oldEvent.toJSON(),event:arg.event.toJSON(),relatedEvents:arg.relatedEvents.map(function(related){return related.toJSON();})};var componentValue={callback:\"eventChange\",eventChange:eventChange};Streamlit.setComponentValue(componentValue);};var handleEventsSet=function handleEventsSet(events){var eventsSet={events:events.map(function(event){var _event$getResources$;return _objectSpread(_objectSpread({},event.toJSON()),{},{resourceId:(_event$getResources$=event.getResources()[0])===null||_event$getResources$===void 0?void 0:_event$getResources$.id});})};var componentValue={callback:\"eventsSet\",eventsSet:eventsSet};Streamlit.setComponentValue(componentValue);};var handleSelect=function handleSelect(arg){var _arg$resource2;var select={allDay:arg.allDay,start:arg.start.toISOString(),end:arg.end.toISOString(),view:getViewValue(arg.view),resource:(_arg$resource2=arg.resource)===null||_arg$resource2===void 0?void 0:_arg$resource2.toJSON()};var componentValue={callback:\"select\",select:select};Streamlit.setComponentValue(componentValue);};React.useEffect(function(){Streamlit.setFrameHeight();},[]);return/*#__PURE__*/_jsx(FullCalendarWrapper,{$customCSS:custom_css,children:/*#__PURE__*/_jsx(FullCalendar,_objectSpread({plugins:ENABLED_PLUGINS,initialEvents:events,schedulerLicenseKey:license_key,dateClick:callbacks!==null&&callbacks!==void 0&&callbacks.includes(\"dateClick\")?handleDateClick:undefined,eventClick:callbacks!==null&&callbacks!==void 0&&callbacks.includes(\"eventClick\")?handleEventClick:undefined,eventChange:callbacks!==null&&callbacks!==void 0&&callbacks.includes(\"eventChange\")?handleEventChange:undefined,eventsSet:callbacks!==null&&callbacks!==void 0&&callbacks.includes(\"eventsSet\")?handleEventsSet:undefined,select:callbacks!==null&&callbacks!==void 0&&callbacks.includes(\"select\")?handleSelect:undefined},options))});};export default withStreamlitConnection(CalendarFC);","map":{"version":3,"names":["adaptivePlugin","dayGridPlugin","interactionPlugin","listPlugin","multiMonthPlugin","FullCalendar","resourceDayGridPlugin","resourceTimeGridPlugin","resourceTimelinePlugin","timeGridPlugin","timelinePlugin","rrulePlugin","React","Streamlit","withStreamlitConnection","styled","jsx","_jsx","ENABLED_PLUGINS","FullCalendarWrapper","div","_templateObject","_taggedTemplateLiteral","props","$customCSS","CalendarFC","_ref","_ref$args","args","events","options","custom_css","callbacks","license_key","getViewValue","view","type","title","activeStart","toISOString","activeEnd","currentStart","currentEnd","handleDateClick","arg","_arg$resource","dateClick","allDay","date","resource","toJSON","componentValue","callback","setComponentValue","handleEventClick","eventClick","event","handleEventChange","eventChange","oldEvent","relatedEvents","map","related","handleEventsSet","eventsSet","_event$getResources$","_objectSpread","resourceId","getResources","id","handleSelect","_arg$resource2","select","start","end","useEffect","setFrameHeight","children","plugins","initialEvents","schedulerLicenseKey","includes","undefined"],"sources":["C:/Users/erden/OneDrive/Documents/GitHub/techclubsite/streamlit_calendar/frontend/src/components/Calendar.tsx"],"sourcesContent":["import \"../styles/Calendar.css\"\r\n\r\nimport adaptivePlugin from \"@fullcalendar/adaptive\" // premium\r\nimport dayGridPlugin from \"@fullcalendar/daygrid\"\r\nimport interactionPlugin, { DateClickArg } from \"@fullcalendar/interaction\"\r\nimport listPlugin from \"@fullcalendar/list\"\r\nimport multiMonthPlugin from \"@fullcalendar/multimonth\"\r\nimport FullCalendar from \"@fullcalendar/react\"\r\nimport resourceDayGridPlugin from \"@fullcalendar/resource-daygrid\" // premium\r\nimport resourceTimeGridPlugin from \"@fullcalendar/resource-timegrid\" // premium\r\nimport resourceTimelinePlugin from \"@fullcalendar/resource-timeline\" // premium\r\nimport timeGridPlugin from \"@fullcalendar/timegrid\"\r\nimport timelinePlugin from \"@fullcalendar/timeline\" // premium\r\nimport rrulePlugin from \"@fullcalendar/rrule\"; //\r\n\r\nimport {\r\n  CalendarOptions,\r\n  DateSelectArg,\r\n  EventApi,\r\n  EventChangeArg,\r\n  EventClickArg,\r\n  EventSourceInput,\r\n  ViewApi,\r\n} from \"@fullcalendar/core\"\r\nimport React from \"react\"\r\nimport { Streamlit, withStreamlitConnection } from \"streamlit-component-lib\"\r\nimport { ComponentProps } from \"streamlit-component-lib/dist/StreamlitReact\"\r\nimport styled from \"styled-components\"\r\nimport {\r\n  Callback,\r\n  DateClickComponentValue,\r\n  DateClickValue,\r\n  EventChangeComponentValue,\r\n  EventChangeValue,\r\n  EventClickComponentValue,\r\n  EventClickValue,\r\n  EventsSetComponentValue,\r\n  EventsSetValue,\r\n  SelectComponentValue,\r\n  SelectValue,\r\n  ViewValue,\r\n} from \"../types/Calendar.type\"\r\n\r\nconst ENABLED_PLUGINS = [\r\n  adaptivePlugin,\r\n  dayGridPlugin,\r\n  interactionPlugin,\r\n  listPlugin,\r\n  multiMonthPlugin,\r\n  resourceDayGridPlugin,\r\n  resourceTimeGridPlugin,\r\n  resourceTimelinePlugin,\r\n  timeGridPlugin,\r\n  timelinePlugin,\r\n  rrulePlugin,\r\n]\r\n\r\nconst FullCalendarWrapper = styled.div<{ $customCSS?: string }>`\r\n  ${(props) => props.$customCSS || ''}\r\n`\r\n\r\n\r\ntype Props = ComponentProps<{\r\n  events?: EventSourceInput\r\n  options?: CalendarOptions\r\n  custom_css?: string\r\n  callbacks?: Callback[]\r\n  license_key?: string\r\n}>\r\n\r\nconst CalendarFC: React.FC<Props> = ({\r\n  args: { events, options, custom_css, callbacks, license_key },\r\n}) => {\r\n  const getViewValue = (view: ViewApi): ViewValue => ({\r\n    type: view.type,\r\n    title: view.title,\r\n    activeStart: view.activeStart.toISOString(),\r\n    activeEnd: view.activeEnd.toISOString(),\r\n    currentStart: view.currentStart.toISOString(),\r\n    currentEnd: view.currentEnd.toISOString(),\r\n  })\r\n\r\n  const handleDateClick = (arg: DateClickArg) => {\r\n    const dateClick: DateClickValue = {\r\n      allDay: arg.allDay,\r\n      date: arg.date.toISOString(),\r\n      view: getViewValue(arg.view),\r\n      resource: arg.resource?.toJSON(),\r\n    }\r\n\r\n    const componentValue: DateClickComponentValue = {\r\n      callback: \"dateClick\",\r\n      dateClick,\r\n    }\r\n\r\n    Streamlit.setComponentValue(componentValue)\r\n  }\r\n\r\n  const handleEventClick = (arg: EventClickArg) => {\r\n    const eventClick: EventClickValue = {\r\n      event: arg.event.toJSON(),\r\n      view: getViewValue(arg.view),\r\n    }\r\n\r\n    const componentValue: EventClickComponentValue = {\r\n      callback: \"eventClick\",\r\n      eventClick,\r\n    }\r\n\r\n    Streamlit.setComponentValue(componentValue)\r\n  }\r\n\r\n  const handleEventChange = (arg: EventChangeArg) => {\r\n    const eventChange: EventChangeValue = {\r\n      oldEvent: arg.oldEvent.toJSON(),\r\n      event: arg.event.toJSON(),\r\n      relatedEvents: arg.relatedEvents.map((related) => related.toJSON()),\r\n    }\r\n\r\n    const componentValue: EventChangeComponentValue = {\r\n      callback: \"eventChange\",\r\n      eventChange,\r\n    }\r\n\r\n    Streamlit.setComponentValue(componentValue)\r\n  }\r\n\r\n  const handleEventsSet = (events: EventApi[]) => {\r\n    const eventsSet: EventsSetValue = {\r\n      events: events.map((event) => ({\r\n        ...event.toJSON(),\r\n        resourceId: event.getResources()[0]?.id,\r\n      })),\r\n    }\r\n\r\n    const componentValue: EventsSetComponentValue = {\r\n      callback: \"eventsSet\",\r\n      eventsSet,\r\n    }\r\n\r\n    Streamlit.setComponentValue(componentValue)\r\n  }\r\n\r\n  const handleSelect = (arg: DateSelectArg) => {\r\n    const select: SelectValue = {\r\n      allDay: arg.allDay,\r\n      start: arg.start.toISOString(),\r\n      end: arg.end.toISOString(),\r\n      view: getViewValue(arg.view),\r\n      resource: arg.resource?.toJSON(),\r\n    }\r\n\r\n    const componentValue: SelectComponentValue = {\r\n      callback: \"select\",\r\n      select,\r\n    }\r\n\r\n    Streamlit.setComponentValue(componentValue)\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    Streamlit.setFrameHeight()\r\n  }, [])\r\n\r\n  return (\r\n    <FullCalendarWrapper $customCSS={custom_css}>\r\n      <FullCalendar\r\n        plugins={ENABLED_PLUGINS}\r\n        initialEvents={events}\r\n        schedulerLicenseKey={license_key}\r\n        dateClick={\r\n          callbacks?.includes(\"dateClick\") ? handleDateClick : undefined\r\n        }\r\n        eventClick={\r\n          callbacks?.includes(\"eventClick\") ? handleEventClick : undefined\r\n        }\r\n        eventChange={\r\n          callbacks?.includes(\"eventChange\") ? handleEventChange : undefined\r\n        }\r\n        eventsSet={\r\n          callbacks?.includes(\"eventsSet\") ? handleEventsSet : undefined\r\n        }\r\n        select={\r\n          callbacks?.includes(\"select\") ? handleSelect : undefined\r\n        }\r\n        {...options}\r\n      />\r\n    </FullCalendarWrapper>\r\n  )\r\n}\r\n\r\nexport default withStreamlitConnection(CalendarFC);\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}